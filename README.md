**Nokia NSN reader for Open MSS (TTTCOF and TTSCOF status file).**

Файл nsn скопилирован под стандартную реализацию (musl) libc для Linux.

Пример запуска из командной строки: ./nsn print 127.0.0.1 ftpuser ftppass ftpdirs
Алгоримт работы:
- скачиваем файлы TTSCOF и TTTCOF с указанного в параметрах командной строки ftp
- создавем в /tmp директорию с адресом-именем ftp с которого скачали файлы и создаем директорию result внутри
- копируем с ftp в директорию /tmp/[host]/result файлы TTSCOF и TTTCOF
- разбираем их побайтно и переводим в hex
- выводим на экран в текстовом режиме (ключ print) содержимое результирующих файлов, одновременно сопоставляя имя файла в TTSCOF и TTTCOF
- создаем текстовую копию содержимого файлов TTSCOF и TTTCOF в директории tmp/<host>/result
- если запустить с ключем hex, то будет выведено содержимое TTSCOF и TTTCOF в шестнадцатиричном виде (./nsn hex 127.0.0.1 ftpuser ftppass ftpdirs) 



Файлы статусы - TTSCOF и TTTCOF содержат информацию о загрузке файлов между MSS и системой постобработки

Первая запись в файлах зарезервирована для внутреннего использования. 

Нумерация файлов начинается с 1, а не с 0.

TTSCOF - содержит информацию о сотояннии, метках, хранении. Метка времени обновляется текущим временем. Запись содержит 9 байт и разделяется на:
• информация о состоянии файла (1 байт)
• метка времени (7 байт)
• сохранение флага состояния (1 байт)

TTTCOF - содержит метку времени передачи файла на диск - когда файл передан в систему постобработки

TTTCOF и TTSCOF не меняются сразу после передачи 

Оба файла меняются динамически, номер последней записи совпадает с номером последнего файла.

Файл TTTCOF для системы MSS является файлом только для чтения (она не вносит в него изменения), его обновление производиться системой предбиллинга.

Файл TTSCOF обновляется уже системой MSS и систем предбиллинга не может обновить этот файл локально, для предбиллинга он нужен только чтобы получить статусы файлов и выбрать готовые к передаче в статусе FULL

Предбиллинг обновляет временные метки переданных файлов в файле TTTCOF, при этом метка времени не должна быть такой же как в файле TTSCOF - она должна быть
больше хотя бы на единицу

MSS сравнивает два файла и обновлет состояние ПЕРЕАЧА на ОТКРЫТО всех записей где время более позднее чем в файле TTTCOF

Система предбиллинга должна бездействовать чуть более 5 минут. Это время требуется, чтобы убедиться, что Open MSS прочитала TTTCOF и обновил TTSCOF на диск.
